<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AHS Class of ’28</title>
  <meta name="theme-color" content="#0d6efd" />
  <link rel="stylesheet" href="styles.css" />

  <style>
    /* --- Header hardening: consistent layout + reliable mobile menu --- */
    .nav{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
    .links{ display:flex; align-items:center; gap:16px; flex-wrap:nowrap; white-space:nowrap; }
    .menu-btn{ display:none; }
    @media (max-width:980px){
      .header .links{ display:none; }
      .menu-btn{
        display:inline-flex; align-items:center; justify-content:center;
        width:42px; height:42px; border-radius:12px; border:1px solid var(--border);
        background:var(--panel);
      }
    }
    .mobile-menu{
      position:fixed; inset:64px 10px auto 10px; z-index:9999;
      background:var(--panel); border:1px solid var(--border);
      border-radius:14px; box-shadow:var(--shadow-2); padding:12px;
      backdrop-filter:blur(10px);
    }
    .mobile-menu a{ display:block; padding:12px 10px; border-radius:10px; color:var(--text); }
    .mobile-menu a:hover{ background:rgba(255,255,255,.06); }
    .hidden{ display:none !important; }
    html.menu-open, body.menu-open { overflow:hidden; }

    /* Page base */
    html, body { max-width:100%; overflow-x:hidden; }
    body { color: var(--text); background: transparent; }
    #starfield{ position: fixed; inset:0; z-index:-1; pointer-events:none; display:block; }

    /* Main spacing */
    main{ padding: 0 18px 44px; }
  </style>
</head>
<body>

  <canvas id="starfield" aria-hidden="true"></canvas>

  <!-- Header / Nav -->
  <header class="header" role="banner">
    <nav class="nav" aria-label="Primary">
      <a class="brand" href="./" aria-label="AHS Class of 2028 — Home">
        <span class="logo" aria-hidden="true">A</span>
        AHS Class of ’28
      </a>
      <div class="links" role="navigation">
        <a class="active" href="./">Home</a>
        <a href="./fundraisers.html">Fundraisers</a>
        <a href="./calendar.html">Calendar</a>
        <a href="./media.html">Media</a>
        <a href="./achievements.html">Achievements</a>
        <a href="./about.html">About</a>
        <a href="./contact.html">Contact</a>
        <a href="./shop.html">Shop</a>
        <a href="./announcements.html">Announcements</a>
        <a href="./community.html">Community</a>
      </div>
      <button id="menuBtn" class="menu-btn" aria-expanded="false" aria-controls="mobileMenu" aria-label="Open menu">☰</button>
    </nav>

    <div id="mobileMenu" class="mobile-menu hidden" role="dialog" aria-modal="true" aria-label="Mobile navigation">
      <a class="active" href="./">Home</a>
      <a href="./fundraisers.html">Fundraisers</a>
      <a href="./calendar.html">Calendar</a>
      <a href="./media.html">Media</a>
      <a href="./achievements.html">Achievements</a>
      <a href="./about.html">About</a>
      <a href="./contact.html">Contact</a>
      <a href="./shop.html">Shop</a>
      <a href="./announcements.html">Announcements</a>
      <a href="./community.html">Community</a>
      <div class="small" style="padding:8px 10px; opacity:.8">Tap outside to close</div>
    </div>
  </header>

  <!-- Main -->
  <main role="main">
    <section
      class="hero"
      id="home"
      aria-labelledby="homeTitle"
      data-end-of-school="2026-06-19T18:00:00-04:00">
      <div class="card hover-up" style="max-width:820px; margin: 40px auto 0;">
        <h1 id="homeTitle">Auburn Class of ’28</h1>
        <p id="date" aria-live="polite">Loading date…</p>
        <p id="time" aria-live="polite">Loading time…</p>

        <div class="countdown" aria-label="Countdown to end of school">
          <div class="box"><div class="num" id="cd-days">0</div><div class="lbl">Days</div></div>
          <div class="box"><div class="num" id="cd-hrs">00</div><div class="lbl">Hours</div></div>
          <div class="box"><div class="num" id="cd-min">00</div><div class="lbl">Minutes</div></div>
          <div class="box"><div class="num" id="cd-sec">00</div><div class="lbl">Seconds</div></div>
        </div>

        <div class="inline" style="justify-content:center; margin-top:16px;">
          <a class="btn primary" href="./fundraisers.html">See What’s Live</a>
          <a class="btn" href="./calendar.html">Event Calendar</a>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <div class="grid grid-2">
          <article class="panel glass hover-up">
            <div class="fundraiser-header" style="display:flex;align-items:center;justify-content:space-between;">
              <h2 class="section-title">Happening Now</h2>
              <span class="badge live">LIVE</span>
            </div>
            <div class="card-list" id="nowList">
              <div class="small" style="color:var(--muted)">Nothing live yet. Check “Next Up”.</div>
            </div>
          </article>

          <article class="panel glass hover-up">
            <h2 class="section-title">Next Up</h2>
            <div id="nextContainer">
              <div class="small" style="color:var(--muted)">No upcoming fundraisers yet.</div>
            </div>
          </article>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container">
        <h2 class="section-title">Quick Links</h2>
        <p class="section-sub">Fast access to the most-used pages.</p>

        <div class="grid grid-3">
          <a class="panel hover-up" href="./fundraisers.html">
            <div class="chips"><span class="badge blue">Fundraisers</span></div>
            <h3>Current & Upcoming</h3>
            <p class="small">See what’s running, what’s next, and how to help.</p>
          </a>

          <a class="panel hover-up" href="./calendar.html">
            <div class="chips"><span class="badge">Calendar</span></div>
            <h3>Events & No-School Days</h3>
            <p class="small">Today highlighted • Next & previous events called out.</p>
          </a>

          <a class="panel hover-up" href="./media.html">
            <div class="chips"><span class="badge">Media</span></div>
            <h3>Photos & Videos</h3>
            <p class="small">Instagram + YouTube vibes • Submit for approval.</p>
          </a>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="small">
        Built for AHS Class of 2028 • Futuristic glass UI • Edit data in <code>/data</code> on GitHub
      </div>
    </div>
  </footer>

  <!-- Mobile Menu -->
  <script>
    (function(){
      const btn  = document.getElementById('menuBtn');
      const menu = document.getElementById('mobileMenu');
      if (!btn || !menu) return;
      if (btn.dataset.bound === "1") return;
      btn.dataset.bound = "1";

      const DESKTOP_W = 980;
      let open = false;
      function setOpen(v){
        open = v;
        menu.classList.toggle('hidden', !open);
        btn.setAttribute('aria-expanded', String(open));
        document.documentElement.classList.toggle('menu-open', open);
        document.body.classList.toggle('menu-open', open);
      }

      btn.addEventListener('click', (e)=>{ e.stopPropagation(); setOpen(!open); }, {passive:true});
      document.addEventListener('click', (e)=>{ if(open && !menu.contains(e.target) && e.target !== btn) setOpen(false); });
      document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') setOpen(false); });
      menu.addEventListener('click', (e)=>{ if (e.target.closest('a')) setOpen(false); });
      window.addEventListener('resize', ()=>{ if (innerWidth > DESKTOP_W) setOpen(false); });
    })();
  </script>

  <!-- Starfield (same as Announcements) -->
  <script>
    (function(){
      const cvs = document.getElementById('starfield');
      if(!cvs) return;
      const ctx = cvs.getContext('2d', { alpha:false });
      let stars=[];
      function resize(){
        cvs.width = innerWidth; cvs.height = innerHeight;
        stars = Array.from({length:200},()=>({
          x:Math.random()*cvs.width, y:Math.random()*cvs.height,
          r:Math.random()*1.6, v:Math.random()*0.3+0.05
        }));
      }
      addEventListener('resize', resize); resize();
      (function tick(){
        const light = document.documentElement.getAttribute('data-theme')==='light';
        const g = ctx.createLinearGradient(0,0,0,cvs.height);
        if(light){ g.addColorStop(0,'#eaf2ff'); g.addColorStop(1,'#ffffff'); }
        else{ g.addColorStop(0,'#0b0e1a'); g.addColorStop(1,'#000'); }
        ctx.fillStyle=g; ctx.fillRect(0,0,cvs.width,cvs.height);
        ctx.fillStyle = light? 'rgba(60,90,140,.85)':'rgba(180,200,255,.85)';
        for(const s of stars){
          ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fill();
          s.y+=s.v; if(s.y>cvs.height){ s.y=-2; s.x=Math.random()*cvs.width; }
        }
        requestAnimationFrame(tick);
      })();
    })();
  </script>

  <script src="script.js" defer></script>
</body>
</html>
