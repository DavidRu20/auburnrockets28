<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AHS Class of ‚Äô28 ‚Äî Fundraisers</title>
  <meta name="theme-color" content="#0d6efd" />
  <link rel="stylesheet" href="styles.css" />

  <style>

    :root { color-scheme: dark light; }
    body{
      margin:0; font-family:Arial,system-ui,Segoe UI,Roboto,sans-serif;
      overflow-x:hidden; color:var(--text);
      background: transparent; 
    }

 
    #starfield{
      position:fixed; inset:0; z-index:-1; width:100%; height:100%;
      pointer-events:none; display:block;
    }
    @media (prefers-reduced-motion: reduce){ #starfield{ animation:none !important; } }

    .section{ padding:60px 20px; text-align:center; }
    .fundraiser-title{ font-size:clamp(2rem,4.5vw,3rem); margin:0 0 10px; }
    .fundraiser-sub{ font-size:1.1rem; margin:0 0 40px; opacity:.9; }

    .fundraiser-grid{
      display:grid; gap:30px; justify-items:center;
      grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
      align-items:stretch;
    }
    .fundraiser-box{
      background: rgba(255,255,255,0.07);
      border-radius:20px; padding:20px; width:100%; max-width:350px;
      transition: transform .35s var(--t-base), box-shadow .35s var(--t-base), background .35s var(--t-base);
      box-shadow: 0 0 25px rgba(0,0,0,.25); text-align:center; margin:auto;
      will-change: transform;
      border:1px solid var(--border);
      backdrop-filter: blur(6px);
    }
    .fundraiser-box h2{ margin:6px 0 8px; }


    @media (hover:hover){
      .crumbl:hover{ transform: rotate3d(1,1,0,8deg) scale(1.05); box-shadow:0 0 18px rgba(255,215,0,.6); background: rgba(255,215,0,.12); }
      .panera:hover{ transform: scale(1.06) rotate(-6deg); box-shadow:0 0 22px rgba(0,255,150,.55); background: rgba(0,255,150,.12); }
      .leaves:hover{ transform: translateY(-6px) rotate(2deg) skewX(1deg); box-shadow:0 0 20px rgba(255,140,0,.45); background: rgba(255,140,0,.12); animation: leaf-sway .7s ease-in-out infinite alternate; }
      .mystery:hover{ transform: rotateY(180deg); box-shadow:0 0 24px rgba(150,0,255,.55); background: rgba(150,0,255,.12); }
    }
    @keyframes leaf-sway{
      0%{ transform: translateY(-6px) rotate(2deg) skewX(1deg); }
      50%{ transform: translateY(-8px) rotate(-3deg) skewX(-1deg); }
      100%{ transform: translateY(-6px) rotate(2deg) skewX(1deg); }
    }

    .countdown{ font-size:1.05rem; margin-top:10px; font-weight:700; letter-spacing:.2px; }
    .promo{
      margin-top:16px; font-size:1rem; background: rgba(255,255,255,.12);
      padding:10px; border-radius:10px; border:1px solid rgba(255,255,255,.35);
      color:#ffd700; font-weight:800;
    }


    .goal-container{ margin-top:50px; text-align:center; }
    .goal-bar{
      position:relative; height:40px; margin:10px auto; width:min(860px,80%);
      background: rgba(255,255,255,.10); border-radius:20px; overflow:hidden;
      border:2px solid rgba(255,255,255,.28);
    }
    .goal-fill{
      position:absolute; left:0; top:0; bottom:0; width:0%;
      background: linear-gradient(90deg, var(--blue), var(--blue-2));
      box-shadow: inset 0 0 14px rgba(255,255,255,.18);
      transition: width .6s var(--t-base);
    }
    .rocket{
      position:absolute; top:50%; transform:translate(-50%,-50%);
      transition: left .6s var(--t-base); font-size:1.5rem;
      filter: drop-shadow(0 0 8px rgba(255,255,255,.3));
    }
    .goal-text{ margin-top:8px; font-size:1rem; color:#ffd700; }


    @media (max-width:480px){
      .fundraiser-box{ padding:16px; max-width:92%; font-size:.95rem; }
    }
  </style>
</head>
<body>


  <canvas id="starfield" aria-hidden="true"></canvas>


  <header class="header" role="banner">
    <nav class="nav" aria-label="Primary">
      <a class="brand" href="./" aria-label="AHS Class of 2028 ‚Äî Home">
        <span class="logo" aria-hidden="true">A</span>
        AHS Class of ‚Äô28
      </a>

      <div class="links" role="navigation">
        <a href="./index.html">Home</a>
        <a class="active" href="./fundraisers.html" aria-current="page">Fundraisers</a>
        <a href="./calendar.html">Calendar</a>
        <a href="./media.html">Media</a>
        <a href="./achievements.html">Achievements</a>
        <a href="./about.html">About</a>
        <a href="./contact.html">Contact</a>
        <a href="./shop.html">Shop</a>
        <a href="./announcements.html">Announcements</a>
        <a href="./community.html">Community</a>
      </div>

      <button id="menuBtn" class="menu-btn" aria-expanded="false"
              aria-controls="mobileMenu" aria-label="Open menu">‚ò∞</button>
    </nav>

    <div id="mobileMenu" class="mobile-menu hidden" role="dialog" aria-modal="true" aria-label="Mobile navigation">
      <a href="./">Home</a>
      <a class="active" href="./fundraisers.html" aria-current="page">Fundraisers</a>
      <a href="./calendar.html">Calendar</a>
      <a href="./media.html">Media</a>
      <a href="./achievements.html">Achievements</a>
      <a href="./about.html">About</a>
      <a href="./contact.html">Contact</a>
      <a href="./shop.html">Shop</a>
      <a href="./announcements.html">Announcements</a>
      <a href="./community.html">Community</a>
      <div class="small" style="padding:8px 10px; opacity:.8">Tap outside to close</div>
    </div>
  </header>

  <main class="section">
    <h1 class="fundraiser-title">FUNDRAISER</h1>
    <p class="fundraiser-sub">Support our class by participating in our latest fundraisers!</p>

    <div class="fundraiser-grid">
      <div class="fundraiser-box crumbl" onclick="window.location.href='rocket.html'" style="cursor:pointer" data-deadline="2025-09-08T00:00:00-04:00">
        <h2>üç™ Crumbl Cookie</h2>
        <p>Help support the Class of 2028 by purchasing delicious Crumbl Cookies!</p>
        <div class="countdown" id="cd-crumbl">‚Äî</div>
        <div class="promo">Promo Code: _____</div>
      </div>

      <div class="fundraiser-box panera" data-deadline="">
        <h2>ü•ñ Panera Bread</h2>
        <p>Enjoy fresh food while helping our fundraiser!</p>
        <div class="countdown" id="cd-panera">TBA</div>
        <div class="promo">Promo Code: _____</div>
      </div>

      <div class="fundraiser-box leaves" data-deadline="">
        <h2>üçÇ Raking Leaves</h2>
        <p>Sign up to help with raking leaves and raise funds.</p>
        <div class="countdown" id="cd-leaves">TBA</div>
      </div>

      <div class="fundraiser-box mystery">
        <h2>‚ùì Mystery Fundraiser</h2>
        <p>Details coming soon‚Ä¶</p>
        <div class="countdown">TBA</div>
      </div>
    </div>


    <div class="goal-container" aria-live="polite">
      <div class="goal-bar" aria-label="Fundraising progress toward goal">
        <div class="goal-fill" id="goalFill"></div>
        <div class="rocket" id="rocket" role="img" aria-label="Rocket position">üöÄ</div>
      </div>
      <div class="goal-text" id="goalText">$0 / $10,000</div>
    </div>
  </main>

  <script>
    (function(){
      const canvas = document.getElementById('starfield');
      const ctx = canvas.getContext('2d', { alpha:true });
      const prefersReduce = matchMedia('(prefers-reduced-motion: reduce)').matches;
      let w=0,h=0, stars=[], raf=0, last=performance.now();

      const LAYERS = [
        { n:70,  spd:0.03, size:[0.6,1.2], a:[0.10,0.20] }, 
        { n:40,  spd:0.06, size:[0.8,1.6], a:[0.12,0.26] }, 
        { n:18,  spd:0.10, size:[1.2,2.4], a:[0.16,0.32] }  
      ];
      const rand = (min,max)=> min + Math.random()*(max-min);

      function theme(){
        const light = document.documentElement.getAttribute('data-theme') === 'light';
        return {
          bgTop: light ? '#eaf2ff' : '#05070d',
          bgMid: light ? '#f7fbff' : '#0a0f1b',
          bgBot: light ? '#ffffff' : '#05070d',
          star:  light ? '#6a86b8' : '#e8f1ff'
        };
      }

      function resize(){
        const dpr = devicePixelRatio || 1;
        canvas.width  = Math.floor(innerWidth * dpr);
        canvas.height = Math.floor(innerHeight * dpr);
        canvas.style.width = '100%'; canvas.style.height = '100%';
        ctx.setTransform(1,0,0,1,0,0); ctx.scale(dpr,dpr);
        w = innerWidth; h = innerHeight;

        stars = [];
        LAYERS.forEach((L,li)=>{
          for(let i=0;i<L.n;i++){
            stars.push({
              x: Math.random()*w, y: Math.random()*h,
              r: rand(L.size[0], L.size[1]),
              a: rand(L.a[0], L.a[1]),
              tw: rand(0, Math.PI*2),
              spd: L.spd, layer: li
            });
          }
        });
        paint(true);
      }

      function paint(staticOnly=false){
        const c = theme();
        const g = ctx.createLinearGradient(0,0,0,h);
        g.addColorStop(0,c.bgTop); g.addColorStop(.5,c.bgMid); g.addColorStop(1,c.bgBot);
        ctx.fillStyle = g; ctx.fillRect(0,0,w,h);

        for(const s of stars){
     
          s.tw += .8 * (staticOnly?0:1/60);
          const tw = 0.5 + 0.5 * Math.sin(s.tw + s.layer);
          const alpha = Math.max(.08, Math.min(1, s.a * (0.85 + 0.25 * tw)));
          ctx.globalAlpha = alpha;
          ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
          ctx.fillStyle = c.star; ctx.fill();
        }
        ctx.globalAlpha = 1;
      }

      function tick(ts){
        const dt = Math.min(.05, (ts - last)/1000); last = ts;
        for(const s of stars){
          s.x += s.spd * 24 * dt;
          s.y += s.spd * 6  * dt;
          if (s.x > w+2) s.x = -2;
          if (s.y > h+2) s.y = -2;
        }
        paint();
        raf = requestAnimationFrame(tick);
      }

      resize();
      addEventListener('resize', resize);
      const mo = new MutationObserver(resize);
      mo.observe(document.documentElement, { attributes:true, attributeFilter:['data-theme'] });

      if (!prefersReduce){
        raf = requestAnimationFrame(tick);
        document.addEventListener('visibilitychange', ()=> {
          if (document.hidden) cancelAnimationFrame(raf);
          else { last = performance.now(); raf = requestAnimationFrame(tick); }
        });
      } else {
        paint(true);
      }
    })();
  </script>


  <script>

    function startCountdown(el, iso){
      if(!iso){ el.textContent = 'TBA'; return; }
      const target = new Date(iso).getTime();
      const tick = ()=>{
        const now = Date.now();
        const diff = target - now;
        if (diff <= 0){ el.textContent = 'Ended'; return; }
        const d = Math.floor(diff / 86400000);
        const h = Math.floor((diff % 86400000) / 3600000);
        const m = Math.floor((diff % 3600000) / 60000);
        const s = Math.floor((diff % 60000) / 1000);
        el.textContent = `${d}d ${String(h).padStart(2,'0')}h ${String(m).padStart(2,'0')}m ${String(s).padStart(2,'0')}s`;
        requestAnimationFrame(()=> setTimeout(tick, 1000 - (Date.now() - now)));
      };
      tick();
    }

    startCountdown(document.getElementById('cd-crumbl'),
                   document.querySelector('.crumbl')?.dataset.deadline);
    startCountdown(document.getElementById('cd-panera'),
                   document.querySelector('.panera')?.dataset.deadline);
    startCountdown(document.getElementById('cd-leaves'),
                   document.querySelector('.leaves')?.dataset.deadline);

  
    let currentAmount = 0;     
    const goalAmount = 10000;

    function updateGoalBar(){
      const fill = document.getElementById('goalFill');
      const rocket = document.getElementById('rocket');
      const txt = document.getElementById('goalText');
      const pct = Math.min(currentAmount / goalAmount, 1);
      fill.style.width = (pct*100).toFixed(2) + '%';
      rocket.style.left = `calc(${(pct*100).toFixed(2)}% - 0px)`;
      txt.textContent = `$${currentAmount.toLocaleString()} / $${goalAmount.toLocaleString()}`;
    }
    updateGoalBar();

 
    window.setFundraiserProgress = (amount)=>{ currentAmount = Math.max(0, amount|0); updateGoalBar(); };
  </script>


  <script src="script.js" defer></script>
</body>
</html>
