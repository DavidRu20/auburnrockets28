<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AHS Class of ‚Äô28 ‚Äî Study</title>
  <meta name="theme-color" content="#0d6efd" />
  <link rel="stylesheet" href="styles.css?v=21" />
  <style>
    body { background: transparent; }

    .study-hero {
      padding: 36px 18px 14px;
      text-align: center;
    }
    .study-hero h1 {
      font-size: clamp(32px, 4.2vw, 46px);
      line-height: 1.06;
      margin: 0 0 10px;
      background: linear-gradient(90deg, var(--hero-grad-start), var(--hero-grad-end));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      font-weight: 900;
      letter-spacing: .2px;
    }
    .study-hero p {
      color: var(--muted);
      margin: 6px auto 0;
      max-width: 720px;
    }

    .study-wrap {
      max-width: 1200px;
      margin: 0 auto;
      padding: 16px 18px 40px;
      display: grid;
      grid-template-columns: 1fr 340px; /* main + sidebar */
      gap: 22px;
      align-items: start;
    }
    @media (max-width: 1000px){
      .study-wrap { grid-template-columns: 1fr; }
    }

    /* Search card */
    .search-card {
      border: 1px solid var(--border);
      border-radius: 16px;
      background: var(--panel);
      padding: 14px;
      box-shadow: var(--shadow-1);
      position: sticky;
      top: 84px;
      display: grid;
      gap: 10px;
    }
    .search-input {
      display: grid; gap: 8px;
    }
    .search-input input {
      border-radius: 12px; border: 1px solid var(--border);
      background: var(--panel); color: var(--text);
      padding: 12px 14px; box-shadow: var(--inner-1);
    }
    .search-hint { font-size: 12px; color: var(--muted); }

    /* Subject tiles */
    .subjects {
      display: grid;
      gap: 14px;
      grid-template-columns: repeat(3, minmax(0, 1fr));
    }
    @media (max-width: 980px){ .subjects{ grid-template-columns: repeat(2, 1fr); } }
    @media (max-width: 560px){ .subjects{ grid-template-columns: 1fr; } }
    .subject {
      border: 1px solid var(--border);
      border-radius: 16px;
      background: var(--panel);
      padding: 16px;
      box-shadow: var(--shadow-1);
      transition: transform var(--t-base), box-shadow var(--t-base), background var(--t-base);
      display: grid; gap: 10px;
    }
    .subject:hover {
      transform: translateY(-3px);
      box-shadow: 0 18px 50px rgba(0,0,0,.35);
      background: var(--panel-2);
    }
    .subject h3 { margin: 0; font-size: 18px; letter-spacing: .2px; }
    .subject p  { margin: 0; color: var(--muted); font-size: 14px; }
    .subject .actions { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 6px; }

    /* Featured */
    .featured {
      margin-top: 16px;
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 14px;
      background: var(--panel);
      box-shadow: var(--shadow-1);
      display: grid; gap: 10px;
    }
    .featured .row {
      display: grid; gap: 10px;
      grid-template-columns: repeat(3, minmax(0,1fr));
    }
    @media (max-width: 820px){ .featured .row { grid-template-columns: 1fr 1fr; } }
    @media (max-width: 560px){ .featured .row { grid-template-columns: 1fr; } }
    .feat {
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 10px;
      background: var(--panel-2);
    }
    .feat .title { font-weight: 800; margin-bottom: 4px; }
    .feat .meta  { color: var(--muted); font-size: 12px; }

    /* ‚Äúno matches‚Äù */
    .no-results {
      margin-top: 8px;
      color: var(--muted);
      font-size: 14px;
      display: none;
    }
    .no-results.show { display: block; }
  </style>
</head>
<body>
  <div id="bgWash" aria-hidden="true"></div>
  <canvas id="starfield"></canvas>

  <!-- Header -->
  <!-- ===== Global Header (paste at top of <body> on every page) ===== -->
<header class="header" role="banner">
  <nav class="nav" aria-label="Primary">
    <a class="brand" href="./" aria-label="AHS Class of 2028 ‚Äî Home">
      <span class="logo" aria-hidden="true">A</span>
      AHS Class of ‚Äô28
    </a>

    <!-- Desktop links -->
    <div class="links" role="navigation">
      <a href="./">Home</a>
      <a href="./fundraisers.html">Fundraisers</a>
      <a href="./calendar.html">Calendar</a>
      <a href="./media.html">Media</a>
      <a href="./achievements.html">Achievements</a>
      <a href="./about.html">About</a>
      <a href="./contact.html">Contact</a>
      <a href="./merch.html">Shop</a>
      <a href="./study.html">Study</a>
      <a href="./community.html">Community</a>
    </div>

    <!-- Mobile menu button -->
    <button id="menuBtn" class="menu-btn" aria-expanded="false"
            aria-controls="mobileMenu" aria-label="Open menu">‚ò∞</button>
  </nav>

  <!-- Mobile menu -->
  <div id="mobileMenu" class="mobile-menu hidden" role="dialog" aria-modal="true" aria-label="Mobile navigation">
    <a href="./">Home</a>
    <a href="./fundraisers.html">Fundraisers</a>
    <a href="./calendar.html">Calendar</a>
    <a href="./media.html">Media</a>
    <a href="./achievements.html">Achievements</a>
    <a href="./about.html">About</a>
    <a href="./contact.html">Contact</a>
    <a href="./merch.html">Shop</a>
    <a href="./study.html">Study</a>
    <a href="./community.html">Community</a>
    <div class="small" style="padding:8px 10px; opacity:.8">Tap outside to close</div>
  </div>
</header>


  <!-- Hero -->
  <section class="study-hero">
    <h1>Study Hub</h1>
    <p>Pick a subject to see topic pages, videos, practice links, and tips.  
       <strong>Rocket AI</strong> recommends resources and study strategies ‚Äî no cheating, just guidance.</p>
  </section>

  <!-- Content -->
  <div class="study-wrap">
    <!-- LEFT COLUMN: search + subjects + featured -->
    <main>
      <!-- Search box -->
      <section class="search-card" aria-label="Search subjects">
        <div class="search-input">
          <label class="label" for="studySearch">Search subjects or topics</label>
          <input id="studySearch" type="text" placeholder="Try: bio, biology, calc, gov, spanish‚Ä¶" autocomplete="off" />
          <div id="searchHint" class="search-hint">Type to filter. Synonyms work (e.g., ‚Äúbio‚Äù ‚Üí Science).</div>
          <div id="noResults" class="no-results">No matches. Try a different word (like ‚Äúhistory‚Äù or ‚Äúbio‚Äù).</div>
        </div>
      </section>

      <!-- Subject tiles -->
      <div id="subjects" class="subjects" aria-live="polite">
        <a class="subject" href="./study-math.html" data-tags="math algebra geometry precalc calculus calc functions graphs factoring trinomials">
          <h3>Math</h3>
          <p>Algebra ‚Ä¢ Geometry ‚Ä¢ Precalc ‚Ä¢ Calc</p>
          <div class="actions"><span class="badge blue">Formulas</span><span class="badge success">Practice</span></div>
        </a>

        <a class="subject" href="./study-ela.html" data-tags="ela english reading writing grammar essays thesis literature poetry close reading">
          <h3>ELA</h3>
          <p>Reading ‚Ä¢ Writing ‚Ä¢ Grammar ‚Ä¢ Essays</p>
          <div class="actions"><span class="badge purple">Writing</span><span class="badge success">Tips</span></div>
        </a>

        <a class="subject" href="./study-science.html" data-tags="science bio biology chem chemistry physics anatomy cells respiration genetics">
          <h3>Science</h3>
          <p>Biology ‚Ä¢ Chemistry ‚Ä¢ Physics</p>
          <div class="actions"><span class="badge yellow">Labs</span><span class="badge success">Practice</span></div>
        </a>

        <a class="subject" href="./study-social.html" data-tags="social studies civics government gov economics econ geography">
          <h3>Social Studies</h3>
          <p>Gov ‚Ä¢ Econ ‚Ä¢ Civics</p>
          <div class="actions"><span class="badge">Notes</span><span class="badge success">Guides</span></div>
        </a>

        <a class="subject" href="./study-history.html" data-tags="history us world ancient modern ww1 ww2 american revolution apush">
          <h3>History</h3>
          <p>US ‚Ä¢ World ‚Ä¢ Modern</p>
          <div class="actions"><span class="badge">Timelines</span><span class="badge success">Review</span></div>
        </a>

        <a class="subject" href="./study-languages.html" data-tags="languages spanish french latin vocab verbs speaking listening">
          <h3>Languages</h3>
          <p>Spanish ‚Ä¢ French </p>
          <div class="actions"><span class="badge">Vocab</span><span class="badge success">Practice</span></div>
        </a>

        <a class="subject" href="./study-cs.html" data-tags="cs computer science coding programming python javascript web algorithms data">
          <h3>Tech</h3>
          <p>technology ‚Ä¢ Web ‚Ä¢ computer</p>
          <div class="actions"><span class="badge">Snippets</span><span class="badge success">Demos</span></div>
        </a>

        <a class="subject" href="./study-tests.html" data-tags="sat act test prep strategies timing practice">
          <h3>Fine arts</h3>
          <p>Band ‚Ä¢ Chours ‚Ä¢ Art</p>
          <div class="actions"><span class="badge">Timing</span><span class="badge success">Practice</span></div>
        </a>
      </div>

      <!-- Featured picks -->
      <div class="featured">
        <div class="section-title">Featured this week</div>
        <div class="row">
          <div class="feat"><div class="title">Algebra: Factoring Tricks</div><div class="meta">Short | Easy</div></div>
          <div class="feat"><div class="title">ELA: Thesis that Actually Works</div><div class="meta">Short | Tips</div></div>
          <div class="feat"><div class="title">Biology: Mitosis vs Meiosis</div><div class="meta">Medium | Visual</div></div>
        </div>
      </div>
    </main>

    <!-- RIGHT COLUMN: Rocket AI (beta) -->
    <aside class="ai-card" aria-label="Rocket AI study helper">
      <h2>üöÄ astronomer AI (beta)</h2>
      <div class="ai-note">
        Goal: help you learn & find resources. <strong>Won‚Äôt write essays or give test answers.</strong>
        It suggests videos and breaks down steps.
      </div>
      <div class="ai-input">
        <label class="label" for="aiSubject">Subject</label>
        <select id="aiSubject">
          <option value="math">Math</option>
          <option value="ela">ELA</option>
          <option value="science">Science</option>
          <option value="history">History</option>
          <option value="social">Social Studies</option>
          <option value="languages">Languages</option>
          <option value="cs">Tech</option>
          <option value="tests">Fine arts</option>
        </select>

        <label class="label" for="aiQuestion" style="margin-top:6px;">What are you stuck on?</label>
        <input id="aiQuestion" type="text" placeholder="e.g., factoring trinomials, thesis ideas, cell respiration‚Ä¶" />
        <button id="aiAsk" class="btn primary">Get tips & video picks</button>
      </div>
      <div id="aiOut" class="ai-suggestions" aria-live="polite"></div>
      <div class="small" style="opacity:.8">Tip: press <code>t</code> to toggle theme.</div>
    </aside>
  </div>

  <!-- Toast (shared) -->
  <div id="toast" class="toast hidden" role="status" aria-live="polite">Loaded</div>

  <!-- JS -->
  <script src="script.js?v=21"></script>
  <script>
    /* ===== Subject Search (client-side filter with synonyms) ===== */
    const searchInput = document.getElementById('studySearch');
    const subjectsGrid = document.getElementById('subjects');
    const subjectCards = Array.from(subjectsGrid.querySelectorAll('.subject'));
    const noResults = document.getElementById('noResults');

    // quick synonyms so ‚Äúbio‚Äù finds Science, ‚Äúgov/civics‚Äù finds Social Studies, etc.
    const synonyms = {
      bio: 'biology',
      gov: 'government civics social studies',
      civics: 'government social studies',
      hist: 'history',
      calc: 'calculus math',
      precalc: 'precalculus math',
      chem: 'chemistry',
      phys: 'physics',
      spanish: 'languages',
      french: 'languages',
      band: 'Fine arts',
      chours: 'Fine arts',
      program: 'programming computer science',
    };

    function normalize(q){
      q = (q || '').trim().toLowerCase();
      if (!q) return '';
      const extra = synonyms[q] || '';
      return (q + ' ' + extra).trim();
    }

    function filterSubjects(q){
      const query = normalize(q);
      if (!query){
        subjectCards.forEach(card => card.style.display = '');
        noResults.classList.remove('show');
        return;
      }
      const words = query.split(/\s+/).filter(Boolean);
      let shown = 0;
      subjectCards.forEach(card => {
        const hay = (card.textContent + ' ' + (card.getAttribute('data-tags')||'')).toLowerCase();
        const ok = words.some(w => hay.includes(w)); // any word match
        card.style.display = ok ? '' : 'none';
        if (ok) shown++;
      });
      noResults.classList.toggle('show', shown === 0);
    }

    searchInput?.addEventListener('input', e => filterSubjects(e.target.value));

    // keyboard: '/' focuses search (like your fundraisers page)
    document.addEventListener('keydown', (e)=>{
      if (e.key === '/' && !/input|textarea|select/i.test(document.activeElement.tagName)) {
        e.preventDefault(); searchInput?.focus();
      }
    });

    /* ===== Minimal Rocket AI (same as before) ===== */
    const out = document.getElementById('aiOut');
    const ask = document.getElementById('aiAsk');

    function safeAdvice(subject, q){
      const lower = (q||"").toLowerCase();
      const banned = ["give me the answer","what's the answer","solve my homework","write my essay","cheat","copy"];
      if (banned.some(b => lower.includes(b))) {
        return [{ type:"note", text:"I can‚Äôt give answers or write work for you, but I can explain steps and point to good videos." }];
      }
      const tips = [];
      if (subject === "math") {
        tips.push({type:"tip", text:"Identify the problem type first (factoring? systems? exponents?). Write what‚Äôs given/asked."});
        tips.push({type:"tip", text:"Try a tiny example to see the pattern, then scale up."});
        tips.push({type:"vid", text:"Watch: Factoring Trinomials Intuition", url:"https://www.youtube.com/results?search_query=factoring+trinomials+intro"});
      } else if (subject === "ela") {
        tips.push({type:"tip", text:"Thesis = Topic + your claim + the ‚Äòbecause‚Äô (2‚Äì3 reasons you‚Äôll prove)."});
        tips.push({type:"vid", text:"Watch: Writing Strong Thesis Statements", url:"https://www.youtube.com/results?search_query=strong+thesis+statement"});
      } else if (subject === "science") {
        tips.push({type:"tip", text:"Draw processes with arrows & labels. Teach it out loud to check understanding."});
        tips.push({type:"vid", text:"Watch: Cellular Respiration Overview", url:"https://www.youtube.com/results?search_query=cellular+respiration+overview"});
      } else if (subject === "history" || subject === "social") {
        tips.push({type:"tip", text:"Timeline: causes ‚Üí event ‚Üí effects. Add 3 pieces of evidence per event."});
        tips.push({type:"vid", text:"Watch: Causes of WWI (simple)", url:"https://www.youtube.com/results?search_query=causes+of+WWI+easy+explain"});
      } else if (subject === "languages") {
        tips.push({type:"tip", text:"Make 3 sets: verbs, nouns, connectors. Practice out loud in short sentences."});
        tips.push({type:"vid", text:"Watch: Spanish Present Tense Basics", url:"https://www.youtube.com/results?search_query=spanish+present+tense+basics"});
      } else if (subject === "cs") {
        tips.push({type:"tip", text:"Whats a good band to listen to?"});
        tips.push({type:"vid", text:"Watch: This band or somthing", url:"https://www.youtube.com/@HLConcertBand"});
      } else if (subject === "tests") {
        tips.push({type:"tip", text:"Timed practice: 16 minutes work + 4 minutes review."});
        tips.push({type:"vid", text:"Watch: SAT Math Strategies", url:"https://www.youtube.com/results?search_query=SAT+math+strategies"});
      }
      if (q && q.length > 4) tips.unshift({type:"note", text:`Got it ‚Äî ‚Äú${q}‚Äù. Here are steps + videos to learn it (not the answers).`});
      return tips;
    }

    ask?.addEventListener('click', ()=>{
      const subject = document.getElementById('aiSubject').value;
      const q = document.getElementById('aiQuestion').value.trim();
      const items = safeAdvice(subject, q);
      out.innerHTML = items.map(it=>{
        if (it.type === "vid") return `<div class="item">üé¨ <a href="${it.url}" target="_blank" rel="noopener">${it.text}</a></div>`;
        if (it.type === "tip") return `<div class="item">üí° ${it.text}</div>`;
        return `<div class="item">${it.text}</div>`;
      }).join("");
      try { showToast("Rocket AI: tips ready", "success", 1400); } catch {}
    });
  </script>
</body>
</html>
